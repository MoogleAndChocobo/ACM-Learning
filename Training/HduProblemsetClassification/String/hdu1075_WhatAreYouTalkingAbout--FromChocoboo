/*
	What Are You Talking About
	Time Limit: 10000/5000 MS (Java/Others)    Memory Limit: 102400/204800 K (Java/Others)
	Total Submission(s): 26391    Accepted Submission(s): 9015


	Problem Description
	Ignatius is so lucky that he met a Martian yesterday. But he didn't know the language the Martians use. The Martian gives him a history book of Mars and a dictionary when it leaves. Now Ignatius want to translate the history book into English. Can you help him?


	Input
	The problem has only one test case, the test case consists of two parts, the dictionary part and the book part. The dictionary part starts with a single line contains a string "START", this string should be ignored, then some lines follow, each line contains two strings, the first one is a word in English, the second one is the corresponding word in Martian's language. A line with a single string "END" indicates the end of the directory part, and this string should be ignored. The book part starts with a single line contains a string "START", this string should be ignored, then an article written in Martian's language. You should translate the article into English with the dictionary. If you find the word in the dictionary you should translate it and write the new word into your translation, if you can't find the word in the dictionary you do not have to translate it, and just copy the old word to your translation. Space(' '), tab('\t'), enter('\n') and all the punctuation should not be translated. A line with a single string "END" indicates the end of the book part, and that's also the end of the input. All the words are in the lowercase, and each word will contain at most 10 characters, and each line will contain at most 3000 characters.


	Output
	In this problem, you have to output the translation of the history book.


	Sample Input
	START
	from fiwo
	hello difh
	mars riwosf
	earth fnnvk
	like fiiwj
	END
	START
	difh, i'm fiwo riwosf.
	i fiiwj fnnvk!
	END


	Sample Output
	hello, i'm from mars.
	i like earth!

	Hint

	Huge input, scanf is recommended.



	Author
	Ignatius.L


	Recommend
	We have carefully selected several similar problems for you:  1251 1800 1671 1298 1026
*/


#include<cstdio>
#include<map>
#include<string>
#include<cstring>
#include<cctype>
#include<iostream>

using namespace std;

map<string,string> dict;

const int MAX = 3 * 1e3 + 10;

int main()
{
    char temp[MAX];
    scanf("%s", temp);
    while(~scanf("%s", temp))
    {
        if(!strcmp(temp, "END"))
            break;
        char cvt[MAX];
        scanf("%s", cvt);
        string sa = temp, sb = cvt;
        dict[sb] = sa;
    }
    scanf("%s", temp);
    getchar();
    char line[MAX];
    while(gets(line) != NULL)
    {
        if(!strcmp(line, "END"))
            break;
        bool flag = false;
        int len = strlen(line);
        string word;
        for(int i = 0; i < len; i++)
        {
            char c = line[i];
            if(!isalpha(c) && !flag)
            {
                printf("%c", c);
                flag = false;
            }
            else if(!isalpha(c) && flag)
            {
                if(dict[word] == "\0")
                    printf("%s%c", word.c_str(), c);
                else
                    printf("%s%c", dict[word].c_str(), c);
                flag = false;
                word.clear();
            }
            else if(isalpha(c))
            {
                flag = true;
                word += c;
            }
        }
        printf("\n");
    }
    return 0;
}
